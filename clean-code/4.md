# 4장 주석

**주석은 나쁜 코드를 보완하지 못한다**

* 우리는 코드로 의도를 표현하지 못해서, 실패를 만회하기 위해 주석을 사용한다
* 하지만 주석은 오래될 수록 코드에서 멀어진다
*
  * 주석을 유지보수 하기란 현실적으로 어렵다
  * 코드가 변경될 때 마다 주석을 수정해줘야 하는 데 쉽지 않음
* 나쁜 품질의 코드를 설명하려 주석을 달지 말고, 그 코드를 표현력있게 바꾸는 데 신경을 써라

\


#### **좋은 주석** <a href="#id-4" id="id-4"></a>

\


**법적인 주석**

* 저작권 정보나 소유권 정보, 계약조건이나 법적인 정보

\


**정보를 제공하는 주석**

* 함수가 어떤 값을 반환하는 지 설명하거나, 정규 표현식이 어떤 의미인지 설명하는 주석
* BUT 함수이름에 해당 정보를 담거나, 정규 표현식을 적절한 클래스로 옮겨서 코드로 설명하는 것이 훨씬 좋음

\


**의도를 설명하는 주석**

* 결정에 깔린 의도를 설명할 때&#x20;

\


\+) 히스토리를 알려주는 주석

* 다시 봤을 때 왜 이렇게 했는지 이해하기 어려울 것 같은 부분은 따로 히스토리번호를 남겨주면 참고하기 쉬울 것 같기도
* ```
  // NDRIVEAPP-13751 - 사진 검색시 동영상도 함께 검색하기로 함
  ```

\


**의미를 명료하게 밝히는 주석**

* 인수나 반환값이 표준 라이브러리나, 변경할 수 없는 코드에 속한다면 주석으로 설명하는 것이 이해에 도움이 될 수 있음
* BUT 주석이 올바른지 검증이 쉽지 않고, 잘못된 정보를 전달 할 수도 있는 위험이 있음

```
assertTrue(a.compareTo(a) == 0 );    // a == a
assertTrue(a.compareTo(b) = 0 );     // a != b
```

**결과를 경고하는 주석**

* 다른 사람의 실수를 방지하는 차원에서 사용하는 주석

\


**TODO 주석**

* 앞으로 할 일을 표시, 더 이상 필요 없는 기능을 삭제하라는 알림, 누군가에 문제를 봐달라는 요청, 더 좋은 이름을 떠올려 달라는 부탁, 앞으로 발생할 이벤트에 맞춰 코드를 고치라는 주의 등등
* BUT 수시로 점검해서 불필요한 TODO 주석은 삭제하기

\


**중요성을 강조하는 주석**

* 자칫 대수롭지않게 여겨질만한 부분의 중요성을 강조하는 주석
* Ex) javadocs
  * [https://en.wikipedia.org/wiki/Javadoc](https://en.wikipedia.org/wiki/Javadoc)

> Javadoc is an extensible documentation generation system which reads specially formatted comments in Java source code and generates compiled documentation.

\


\+) API 관련 정보

```
**
 * 공유 앨범 삭제
 * @see <a href="https://wiki.navercorp.com/pages/viewpage.action?pageId=632483745">Wiki page</a>
**/
@DELETE("ndrivemobileapps/nphoto/v3/api/shares/{shareKey}")
suspend fun deleteShareAlbum(
    @Path("shareKey") shareKey: String
): BaseNPhotoResult
```



**나쁜 주석**\
 <a href="#id-4" id="id-4"></a>
-------------------------------

**주절거리는 주석**

* 이해가 안돼서 결국 다른 코드를 봐야하는 주석

\


**같은 이야기를 중복하는 주석**

* 코드보다 더 많은 이야기를 하고 있지도 않고, 코드를 정당화하거나, 의도, 근거를 설명하지 않고 동작을 그냥 중복해서 설명하는 주석

\


**오해할 여지가 있는 주석**

* 코드 동작과 살짝 다른 정보를 담아서, 독자가 코드 동작을 오해하게 만드는 주석

\


**의무적으로 다는 주석**

* 모든 함수에 Javadocs를 달거나, 모든 변수에 주석을 달아야 하는 규칙때문에 의미없이 단 주석

\


**이력을 기록하는 주석**

* 소스 코드 관리 시스템이 없었을 때나 유용한 주석

\


**있으나 마나 한 주석**

* 너무나 당연한 내용을 설명하고 있는 주석

\


**무서운 잡음**

* 때로는 Jaadocs 도 의미없는 잡음

\


**함수나 변수로 표현할 수 있다면 주석을 달지 말 것**

* 주석이 필요하지 않도록 코드를 개선하자

\


**위치를 표시하는 주석**

* 배너 아래에 특정 기능을 모아놓으면 유용한 경우도 있지만, 너무 남발하면 독자가 무시할 수 있음

\


**닫는 괄호에 주석**

* 작고 캡슐화된 함수에서는 이런 주석은 잡음일뿐
* 중첩이 심하고 장황한 함수에 주석을 달기보다는 함수를 줄이려고 노력하자

\


**공로를 돌리거나 저자를 표시하는 주석**

* 소스 코드 관리 시스템으로 관리해야 하는 정보,,

\


**주석으로 처리한 코드**

* 누군가 섣불리 지우기도 어렵고, 의미가 분명하지도 않은 쓸모없는 주석
* 소스 코드 관리 시스템이 기억해줄 테니 없애자

\


**HTML 주석**

* 읽기 어렵다

\


**전역 정보**

* 근처에 있는 코드에 대한 주석이 아닌, 시스템 전반에 대한 정보를 기술하면 안된다 -> 유지보수가 어려운 주석

\


**너무 많은 정보**

* 흥미로운 역사나 관련 없는 정보를 기술하지 말 것

\


**모호한 관계**

* 주석이 설명하는 코드는 둘 사이 관계가 명확해야 독자가 이해할 수 있다

\


**함수 헤더**

* 짧고 한 가지만 수행하며 이름을 잘 붙인 함수가 주석으로 헤더를 추가한 함수보다 좋다

\


**비공개 코드에서의 Javadocs**

* 비공개인 경우에 의미없거나, Javadocs 주석이 요구하는 형식은 코드만 더 읽기 어렵게 만들수도 있다

\
